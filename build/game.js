function launchFullScreen(e){e.requestFullScreen?e.requestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen&&e.webkitRequestFullScreen()}function init(){function e(e,t,o,a){function n(){var n=document.getElementById(e);n.style.width=document.getElementById("game").clientWidth*o+"px",parseInt(n.style.width)>t&&(n.style.width=t+"px"),n.style.height=parseInt(n.style.width)*a+"px"}n(),$(window).on("resize",n)}function t(){var e,t,o;for(e=new createjs.LoadQueue,e.loadFile("img/bg/mainBG.png"),e.loadFile("img/bg/cloudsBG.png"),e.loadFile("img/bg/mainFG.png"),e.loadFile("img/bg/gameBG.png"),e.loadFile("img/bg/fogBG.png"),e.loadFile("img/bg/panelBG.png"),e.loadFile("img/bg/lampBottomBG.png"),e.loadFile("img/bg/lampTopBG.png"),e.loadFile("img/buttons/Spin.png"),e.loadFile("img/buttons/Spin_hov.png"),e.loadFile("img/buttons/Spin_tach.png"),e.loadFile("img/buttons/AutoPlay.png"),e.loadFile("img/buttons/AutoPlay_hov.png"),e.loadFile("img/buttons/AutoPlay_tach.png"),e.loadFile("img/buttons/MaxBet.png"),e.loadFile("img/buttons/MaxBet_hov.png"),e.loadFile("img/buttons/MaxBet_tach.png"),e.loadFile("img/buttons/Minus.png"),e.loadFile("img/buttons/Minus_hov.png"),e.loadFile("img/buttons/Minus_tach.png"),e.loadFile("img/buttons/Plus.png"),e.loadFile("img/buttons/Plus_hov.png"),e.loadFile("img/buttons/Plus_tach.png"),t=1;13>=t;t++)e.loadFile("img/game/"+t+".png"),e.loadFile("img/game/win/"+t+".png"),10>=t&&e.loadFile("img/game/blur/"+t+"b.png"),createjs.Sound.registerSound("sound/spinClick.wav","spinClickSound"),createjs.Sound.registerSound("sound/click.wav","buttonClickSound"),createjs.Sound.registerSound("sound/barabaniKrutyatsa.wav","spinProcessSound"),createjs.Sound.registerSound("sound/barabanStop.wav","spinEndSound");for(o=1;21>=o;o++)e.loadFile("img/lines/Line"+o+".png")}function o(){var e=new createjs.Bitmap("img/bg/mainBG.png"),t=new createjs.Bitmap("img/bg/cloudsBG.png");new createjs.Bitmap("img/bg/mainFG.png");t.x=-300,createjs.Tween.get(t,{loop:!0}).to({x:300},6e4).to({x:-300},6e4);var o=new createjs.Bitmap("img/bg/fogBG.png");o.x=-500,o.y=600,createjs.Tween.get(o,{loop:!0}).to({x:0},2e4).to({x:-500},2e4);var a=new createjs.Bitmap("img/bg/lampTopBG.png"),n=new createjs.Bitmap("img/bg/lampBottomBG.png");n.x=-20,n.y=65,a.x=8,a.y=116;var s=new createjs.Bitmap("img/bg/panelBG.png");panelStage.addChild(e,t,s,a,n,o);var r=new createjs.Bitmap("img/bg/gameBG.png");gameStage.addChild(r)}function a(){function e(){var e,t;for(t=1;21>=t;t++)e=new createjs.Bitmap("img/Lines/Line"+t+".png"),e.alpha=0,gameStage.addChild(e),z.push(e);for(z[0].y=334,z[1].y=139,z[2].y=574,z[3].y=54,z[4].y=94,z[5].y=90,z[6].y=335,z[7].x=85,z[7].y=144,z[8].y=288,z[9].y=380,z[10].y=108,z[11].x=85,z[11].y=105,z[12].x=85,z[12].y=45,z[13].x=85,z[13].y=104,z[14].x=85,z[14].y=92,z[15].x=85,z[15].y=99,z[16].x=85,z[16].y=184,z[17].y=137,z[18].y=105,z[19].y=379,z[20].x=105,z[20].y=98,t=0;20>=t;t++)Q.push(z[t].clone()),gameStage.addChild(Q[t])}function t(){var e,t,n;for(n=1;22>=n;n++)e=new createjs.Text(n,"20px Arial","#ddcb8c"),q.push(e),t=new createjs.Shape,t.graphics.beginFill("#000").drawCircle(e.getMeasuredWidth()/2,e.getMeasuredHeight()/2,19),e.hitArea=t,e.on("mouseover",function(){o(this.text),this.shadow=new createjs.Shadow("#FFFFFF",1,1,2)}),e.on("mouseout",function(){a(this.text),this.shadow.offsetX=this.shadow.offsetY=this.shadow.blur=0});q[21].text=1,q[0].x=549,q[0].y=455,q[1].x=1855,q[1].y=257,q[2].x=1855,q[2].y=697,q[3].x=549,q[3].y=165,q[4].x=549,q[4].y=789,q[5].x=549,q[5].y=210,q[6].x=550,q[6].y=744,q[7].x=1855,q[7].y=548,q[8].x=549,q[8].y=409,q[9].x=542,q[9].y=650,q[10].x=543,q[10].y=303,q[11].x=1848,q[11].y=789,q[12].x=1848,q[12].y=165,q[13].x=1848,q[13].y=744,q[14].x=1848,q[14].y=212,q[15].x=1848,q[15].y=651,q[16].x=1848,q[16].y=304,q[17].x=543,q[17].y=257,q[18].x=543,q[18].y=697,q[19].x=543,q[19].y=501,q[20].x=1850,q[20].y=501,q[21].x=1855,q[21].y=455;for(var n=0;n<q.length;n++)panelStage.addChild(q[n])}function o(e){z[e-1].alpha=1}function a(e){z[e-1].alpha=0}e(),t()}function n(){function e(){var e=new createjs.Text("BET","bold 13px Arial","#ffffff");e.x=628,e.y=867;var t=new createjs.Text("COINS","bold 13px Arial","#ffffff");t.x=1752,t.y=867,panelStage.addChild(e,t),u=new createjs.Text("0.02","bold 25px Arial","#dddddd"),u.x=1553,u.y=942,g=new createjs.Text(K/+u.text,"bold 25px Arial","#dddddd"),g.x=1753,g.y=928,m=new createjs.Text("1","bold 25px Arial","#dddddd"),m.x=828,m.y=942,x=new createjs.Text("15","bold 25px Arial","#dddddd"),x.x=625,x.y=921,panelStage.addChild(u,g,m,x);var o=new createjs.Text("Cash: €","bold 20px Arial","#dddddd");o.x=890,o.y=1046;var a=new createjs.Text("Bet: €","bold 20px Arial","#dddddd");a.x=1130,a.y=1046;var n=new createjs.Text("Win: €","bold 20px Arial","#dddddd");n.x=1362,n.y=1046,panelStage.addChild(o,a,n),w=new createjs.Text(K.toFixed(2)+"","bold 20px Arial","#dddddd"),w.x=980,w.y=1046,y=new createjs.Text((+x.text*+u.text).toFixed(2)+"","bold 20px Arial","#dddddd"),y.x=1220,y.y=1046,j=new createjs.Text("0.00","bold 20px Arial","#dddddd"),j.x=1450,j.y=1046,panelStage.addChild(w,y,j)}function t(){f=new createjs.Bitmap("img/buttons/Spin.png"),b=new createjs.Bitmap("img/buttons/Spin_hov.png"),S=new createjs.Bitmap("img/buttons/Spin_tach.png"),f.x=1140,f.y=866,b.x=1140,b.y=866,S.x=1140,S.y=866,f.alpha=1,b.alpha=0,S.alpha=0,f.cursor=b.cursor=S.cursor="pointer",panelStage.addChild(f,b,S),T=new createjs.Bitmap("img/buttons/AutoPlay.png"),v=new createjs.Bitmap("img/buttons/AutoPlay_hov.png"),k=new createjs.Bitmap("img/buttons/AutoPlay_tach.png"),T.x=944,T.y=922,v.x=944,v.y=922,k.x=944,k.y=922,T.alpha=1,v.alpha=0,k.alpha=0,T.cursor=v.cursor=k.cursor="pointer",panelStage.addChild(T,v,k),C=new createjs.Bitmap("img/buttons/MaxBet.png"),F=new createjs.Bitmap("img/buttons/MaxBet_hov.png"),B=new createjs.Bitmap("img/buttons/MaxBet_tach.png"),C.x=1314,C.y=920,F.x=1314,F.y=920,B.x=1314,B.y=920,C.alpha=1,F.alpha=0,B.alpha=0,C.cursor=F.cursor=B.cursor="pointer",panelStage.addChild(C,F,B),G=new createjs.Bitmap("img/buttons/Minus.png"),A=new createjs.Bitmap("img/buttons/Minus_hov.png"),_=new createjs.Bitmap("img/buttons/Minus_tach.png"),G.x=1494,G.y=937,A.x=1494,A.y=937,_.x=1494,_.y=937,G.alpha=1,A.alpha=0,_.alpha=0,G.cursor=A.cursor=_.cursor="pointer",panelStage.addChild(G,A,_),X=new createjs.Bitmap("img/buttons/Plus.png"),Y=new createjs.Bitmap("img/buttons/Plus_hov.png"),E=new createjs.Bitmap("img/buttons/Plus_tach.png"),X.x=1624,X.y=937,Y.x=1624,Y.y=937,E.x=1624,E.y=937,X.alpha=1,Y.alpha=0,E.alpha=0,X.cursor=Y.cursor=E.cursor="pointer",panelStage.addChild(X,Y,E),M=G.clone(),N=A.clone(),L=_.clone(),M.x=N.x=L.x=750,panelStage.addChild(M,N,L),O=X.clone(),P=Y.clone(),I=E.clone(),O.x=P.x=I.x=880,panelStage.addChild(O,P,I)}function o(){function e(){S.alpha=0,U=!1}function t(){U||(U=!0,S.alpha=1,setTimeout(e.bind(null),V),d())}function o(){for(var e=0;e<Z.length;e++)Z[e]&&(clearInterval(Z[e]),B.alpha=0,k.alpha=0)}f.on("rollover",function(){b.alpha=1}),f.on("rollout",function(){b.alpha=0}),b.on("rollover",function(){b.alpha=1}),b.on("rollout",function(){b.alpha=0}),f.on("mousedown",function(){t(),o()}),b.on("mousedown",function(){t(),o()}),$(document).on("keydown",function(e){(32===e.keyCode||32===e.which)&&(t(),o())}),T.on("rollover",function(){v.alpha=1}),T.on("rollout",function(){v.alpha=0}),v.on("rollover",function(){v.alpha=1}),v.on("rollout",function(){v.alpha=0}),v.on("mousedown",function(){k.alpha=1,B.alpha=1,t(),Z[ee]=setInterval(t.bind(null),V+500)}),k.on("mousedown",function(){k.alpha=0,B.alpha=0,clearInterval(Z[ee]),ee++}),C.on("rollover",function(){F.alpha=1}),C.on("rollout",function(){F.alpha=0}),F.on("rollover",function(){F.alpha=1}),F.on("rollout",function(){F.alpha=0}),F.on("mousedown",function(){B.alpha=1,m.text=10,m.x=822,x.text=(15*+m.text).toFixed(0),x.x=620,x.y=923,x.font="bold 23px Arial",y.text=(+x.text*+u.text).toFixed(2),$.ajax({url:oe+"_SetBet/"+W+"/"+m.text,dataType:"JSONP",type:"GET",success:function(){t()}})}),F.on("click",function(){B.alpha=0}),G.on("rollover",function(){A.alpha=1}),G.on("rollout",function(){A.alpha=0}),A.on("rollover",function(){A.alpha=1}),A.on("rollout",function(){A.alpha=0}),A.on("mousedown",function(){+u.text>.01&&(.02===+u.text&&(u.text="0.01"),.05===+u.text&&(u.text="0.02"),.1===+u.text&&(u.text="0.05"),.2===+u.text&&(u.text="0.10"),.5===+u.text&&(u.text="0.20"),1===+u.text&&(u.text="0.50"),createjs.Sound.play("buttonClickSound")),g.text=(+w.text/+u.text).toFixed(0),y.text=(+x.text*+u.text).toFixed(2),+g.text>=10&&(g.x=1777),+g.text>=100&&(g.x=1771),+g.text>=1e3&&(g.x=1765),+g.text>=1e4&&(g.x=1759)}),X.on("rollover",function(){Y.alpha=1}),X.on("rollout",function(){Y.alpha=0}),Y.on("rollover",function(){Y.alpha=1}),Y.on("rollout",function(){Y.alpha=0}),Y.on("mousedown",function(){+u.text<1&&(.5===+u.text&&(u.text="1.00"),.2===+u.text&&(u.text="0.50"),.1===+u.text&&(u.text="0.20"),.05===+u.text&&(u.text="0.10"),.02===+u.text&&(u.text="0.05"),.01===+u.text&&(u.text="0.02"),createjs.Sound.play("buttonClickSound")),g.text=(+w.text/+u.text).toFixed(0),y.text=(+x.text*+u.text).toFixed(2),+g.text<1e5&&(g.x=1759),+g.text<1e4&&(g.x=1765),+g.text<1e3&&(g.x=1771),+g.text<100&&(g.x=1777)}),M.on("rollover",function(){N.alpha=1}),M.on("rollout",function(){N.alpha=0}),N.on("rollover",function(){N.alpha=1}),N.on("rollout",function(){N.alpha=0}),N.on("mousedown",function(){+m.text>1&&(m.text=+m.text-1,createjs.Sound.play("buttonClickSound")),x.text=15*m.text,y.text=(+x.text*+u.text).toFixed(2),+x.text<100&&(x.x=625,x.y=921,x.font="bold 25px Arial"),10!==+m.text&&(m.x=828),$.ajax({url:oe+"_SetBet/"+W+"/"+m.text,dataType:"JSONP",type:"GET",success:function(e){}})}),O.on("rollover",function(){P.alpha=1}),O.on("rollout",function(){P.alpha=0}),P.on("rollover",function(){P.alpha=1}),P.on("rollout",function(){P.alpha=0}),P.on("mousedown",function(){+m.text<10&&(m.text=+m.text+1,createjs.Sound.play("buttonClickSound")),x.text=15*m.text,y.text=(+x.text*+u.text).toFixed(2),+x.text>100&&(x.x=620,x.y=923,x.font="bold 23px Arial"),10===+m.text&&(m.x=822),$.ajax({url:oe+"_SetBet/"+W+"/"+m.text,dataType:"JSONP",type:"GET",success:function(){}})})}e(),t(),o()}function s(e){$.ajax({url:oe+"_Login/"+e,dataType:"JSONP",type:"GET",success:function(e){W=e,$.ajax({url:oe+"_Play/"+W+"/"+ae,dataType:"JSONP",type:"GET",success:function(e){void 0!==e.hPlayResult&&$.ajax({url:oe+"_Ready/"+W,dataType:"JSONP",type:"GET",success:function(e){void 0!==e&&($.ajax({url:oe+"_GetWheels/"+W+"/0",dataType:"JSONP",type:"GET",success:function(e){var t,o=0;for(le[0]=e,t=0;5>t;t++)void 0!==le[t]&&o++;5===o&&r(le)}}),$.ajax({url:oe+"_GetWheels/"+W+"/1",dataType:"JSONP",type:"GET",success:function(e){var t,o=0;for(le[1]=e,t=0;5>t;t++)void 0!==le[t]&&o++;5===o&&r(le)}}),$.ajax({url:oe+"_GetWheels/"+W+"/2",dataType:"JSONP",type:"GET",success:function(e){var t,o=0;for(le[2]=e,t=0;5>t;t++)void 0!==le[t]&&o++;5===o&&r(le)}}),$.ajax({url:oe+"_GetWheels/"+W+"/3",dataType:"JSONP",type:"GET",success:function(e){var t,o=0;for(le[3]=e,t=0;5>t;t++)void 0!==le[t]&&o++;5===o&&r(le)}}),$.ajax({url:oe+"_GetWheels/"+W+"/4",dataType:"JSONP",type:"GET",success:function(e){var t,o=0;for(le[4]=e,t=0;5>t;t++)void 0!==le[t]&&o++;5===o&&r(le)}}),$.ajax({url:oe+"_SetBet/"+W+"/1",dataType:"JSONP",type:"GET",success:function(){}}),$.ajax({url:oe+"_GetLines/"+W,dataType:"JSONP",type:"GET",success:function(e){var t,o;for(ne=e.split("|"),t=0;t<ne.length;t++)for(ne[t]=ne[t].split("@"),o=0;o<ne[t].length;o++)ne[t][o]=ne[t][o].split(",")}}))}})}})}})}function r(e){function t(e){var t;for(t=0;t<e.length;t++)"j"===e[t]&&(e[t]=1),"iJ"===e[t]&&(e[t]=2),"q"===e[t]&&(e[t]=3),"iQ"===e[t]&&(e[t]=4),"k"===e[t]&&(e[t]=5),"ik"===e[t]&&(e[t]=6),"a"===e[t]&&(e[t]=7),"iA"===e[t]&&(e[t]=8),"wild"===e[t]&&(e[t]=9),"scatter"===e[t]&&(e[t]=10),"sw.sw1"===e[t]&&(e[t]=11),"sw.sw2"===e[t]&&(e[t]=12),"sw.sw3"===e[t]&&(e[t]=13)}function o(e){var t,o=[];for(t=0;t<e.length;t++)o[t]=e[t].slice(0,5);return o}var a;for(a=0;a<e.length;a++)e[a]=e[a].split("@"),t(e[a]);pe=o(e),l()}function l(){function e(e){var t,o,a;for(t=new createjs.Container,a=0;5>a;a++)de[a]=pe[e][a],ce[a]=re*(a-1),o=new createjs.Bitmap("img/game/"+de[a]+".png"),o.y=ce[a],t.addChild(o);return t}var t;for(t=0;5>t;t++)ie[t]=e(t),ie[t].x=se*t,gameStage.addChild(ie[t])}function i(){function e(e){var t,o,a;for(t=new createjs.Container,a=0;60>a;a++)5>a?(de[a]=he[e][a],o=new createjs.Bitmap("img/game/"+de[a]+".png")):a>54?(de[a]=pe[e][a-55],o=new createjs.Bitmap("img/game/"+de[a]+".png")):(de[a]=Math.ceil(10*Math.random()),o=new createjs.Bitmap("img/game/blur/"+de[a]+"b.png")),ce[a]=re*(a+1+3-60),o.y=ce[a],t.addChild(o);return t}function t(e){var t,o,a;for(t=new createjs.Container,a=0;5>a;a++)de[a]=he[e][a],o=new createjs.Bitmap("img/game/win/"+de[a]+".png"),ce[a]=re*(a-1),o.y=ce[a],o.alpha=0,t.addChild(o);return t.y=ce[1],t}for(var o=0;21>o;o++)Q[o].alpha=0,q[o].shadow&&(q[o].shadow.offsetX=q[o].shadow.offsetY=q[o].shadow.blur=0);gameStage.removeChild(R);for(var a=0;5>a;a++)gameStage.removeChild(ie[a]),gameStage.removeChild(ue[a]),ue[a]=t(a),ie[a]=e(a),ie[a].x=se*a,ue[a].x=se*a,gameStage.addChild(ie[a]),gameStage.addChild(ue[a])}function d(){function e(){function e(){createjs.Sound.play("spinEndSound")}var t,o=1e3;for(t=0;t<ie.length;t++)o+=400,createjs.Tween.get(ie[t]).to({y:-ce[1]},o,createjs.Ease.getBackInOut(.5)).call(e)}function t(){var e,t,o,a;for(e=0;e<me.length;e++)ge[e]=[],t=parseInt(me[e]),o=me[e].indexOf("#"),a=me[e].substr(o+1),ge[e].push(+a,t)}function o(){var e,t,o=0;for(e=0;5>e;e++)for(he[e]=[],t=0;5>t;t++)0===+J[e]&&0===t?he[e].push(le[e][699]):+J[e]>696&&void 0===le[e][J[e]+t-1]?(he[e].push(le[e][o]),o++):he[e].push(le[e][J[e]+t-1])}function a(e,t){var o,a;for(o=0;5>o;o++)for(a=0;5>a;a++)t[o][a]=e[o][a]}$.ajax({url:oe+"_Ready/"+W,dataType:"JSONP",type:"GET",success:function(n){void 0!==n&&$.ajax({url:oe+"_Roll/"+W,dataType:"JSONP",type:"GET",success:function(n){console.log(n.Result),J=n.Result.Indexes,me=n.Result.LinesResult,H=n.Result.TotalWin,D=n.Result.BonusResults,ge=[],j.text="0.00",w.text=(+w.text-+y.text).toFixed(2),g.text=(+w.text/+u.text).toFixed(0),o(),i(),createjs.Sound.play("spinClickSound"),createjs.Sound.play("spinProcessSound"),e(),a(he,pe),t(),void 0!==me[0]&&setTimeout(c.bind(null),V-200)}})}})}function c(){function e(e){createjs.Tween.get(R,{loop:!0}).to({scaleX:1,scaleY:1,x:e,y:300},300).to({alpha:.75},500).to({alpha:1},500).to({alpha:.75},500).to({alpha:1},500).to({alpha:.75},500).to({alpha:1},500).to({alpha:.75},500).to({alpha:1},500)}function t(e){Q[e].alpha=1}j.text=+(H*parseFloat(u.text)).toFixed(2),w.text=(+parseFloat(w.text)+ +j.text).toFixed(2),void 0!==D[0]&&(p(1),k.alpha=0,B.alpha=0,clearInterval(Z[ee]),ee++);for(var o=0;o<ge.length;o++){var a=ge[o][0],n=ge[o][1];if(-1===a){for(var s=0;5>s;s++)for(var r=0;5>r;r++)if(-1!==ue[s].children[r].image.currentSrc.indexOf("game/win/10.png")){var l=ue[s].children[r];l.alpha=1,createjs.Tween.get(l,{loop:!0}).to({alpha:1,scaleX:1.02,scaleY:1.02,x:-3},500).to({alpha:.9,scaleX:1,scaleY:1,x:0},500).to({alpha:1,scaleX:1,scaleY:1,x:0},300)}}else{t(a-1),q[a-1].shadow=new createjs.Shadow("#FFFFFF",1,1,2);for(var i=0;n>i;i++){var d,c,h;d=+ne[a-1][i][0],c=+ne[a-1][i][1]+1,h=ue[d].children[c],h.alpha=1,createjs.Tween.get(h,{loop:!0}).to({alpha:1,scaleX:1.02,scaleY:1.02,x:-3},500).to({alpha:.9,scaleX:1,scaleY:1,x:0},500).to({alpha:1,scaleX:1,scaleY:1,x:0},300)}}}R=new createjs.Text(H,"bold 120px Arial","#efe947"),R.x=630,R.y=335,R.scaleX=R.scaleY=0,R.shadow=new createjs.Shadow("#000000",5,10,6),gameStage.addChild(R),+H>=10&&100>+H&&e(575),10>+H&&e(575)}function p(e){function t(){var e,t;for(e=new createjs.LoadQueue,t=1;5>=t;t++){var o="img/bonuses/room"+t+"/";e.loadFile(o+"2.png"),e.loadFile(o+"3.png"),e.loadFile(o+"4.png"),e.loadFile(o+"5.png"),e.loadFile(o+"x.png"),e.loadFile(o+"bg.png"),5!==t&&(e.loadFile(o+"win.png"),e.loadFile(o+"fail.png"),e.loadFile(o+"doors2.png")),1===t&&(e.loadFile(o+"door1.png"),e.loadFile(o+"door2.png"),e.loadFile(o+"door3.png"),e.loadFile(o+"door4.png"),e.loadFile(o+"door5.png")),5===t&&(e.loadFile(o+"chest1gif.png"),e.loadFile(o+"chest3gif.png"),e.loadFile(o+"chest5gif.png"),e.loadFile(o+"moneti.png"),e.loadFile(o+"svet.png"),e.loadFile(o+"muha.png"),e.loadFile(o+"stolb.png"))}}function o(){5===e&&f[4]?(h(H,PANEL_WIDTH,PANEL_HEIGHT,doorsStage),setTimeout(a.bind(null),9e3)):setTimeout(a.bind(null),2e3)}function a(){$("#doorsCanvas").removeClass("first"),doorsStage.removeAllChildren(),doorsStage.alpha=0,gameStage.alpha=1,panelStage.alpha=1}var n,s,r,l,i,d,c,u,g,m,x,w,y;y=0,$("#doorsCanvas").addClass("first"),gameStage.alpha=0,panelStage.alpha=0,bgStage.alpha=0,doorsStage.alpha=1,doorsStage.removeAllChildren(),x=new createjs.Shape,x.graphics.beginFill("#000").drawRect(0,0,1920,1080),1===+e?(t(),createjs.Tween.get(x).to({alpha:0},3e3)):createjs.Tween.get(x).to({alpha:0},1e3);var j=D[0].BonusSteps,f=j.split(",");f=f.map(function(e){return parseInt(e)}),console.log(f),m=new createjs.Bitmap("img/bonuses/room"+e+"/bg.png"),u=new createjs.Bitmap("img/bonuses/room"+e+"/win.png"),g=new createjs.Bitmap("img/bonuses/room"+e+"/fail.png"),5!==e&&(f[e-1]?(doorsStage.addChild(u),w=e+1):doorsStage.addChild(g)),xe=new createjs.Container,xe.scaleX=.7,xe.scaleY=.7,xe.alpha=.2,xe.x=732,xe.y=440,d=new createjs.Bitmap("img/bonuses/room"+e+"/x.png"),f[e-1]&&(c=new createjs.Bitmap("img/bonuses/room"+e+"/"+f[e-1]+".png"),c.x=200,c.y=-75,xe.addChild(d,c)),dark1=new createjs.Shape,dark1.graphics.beginFill("#000").drawRect(420,350,200,525),dark2=new createjs.Shape,dark2.graphics.beginFill("#000").drawRect(635,360,200,480),dark3=new createjs.Shape,dark3.graphics.beginFill("#000").drawRect(845,380,205,468),dark4=new createjs.Shape,dark4.graphics.beginFill("#000").drawRect(1070,370,223,480),dark5=new createjs.Shape,dark5.graphics.beginFill("#000").drawRect(1295,355,201,525),n=new createjs.Bitmap("img/bonuses/room"+e+"/door1.png"),n.x=420,n.y=350,s=new createjs.Bitmap("img/bonuses/room"+e+"/door2.png"),s.x=635,s.y=370,r=new createjs.Bitmap("img/bonuses/room"+e+"/door3.png"),r.x=845,r.y=380,l=new createjs.Bitmap("img/bonuses/room"+e+"/door4.png"),l.x=1070,l.y=370,i=new createjs.Bitmap("img/bonuses/room"+e+"/door5.png"),i.x=1295,i.y=355,n.on("click",function(){0===y&&(createjs.Tween.get(this).to({y:this.y-475},600),createjs.Tween.get(dark1).to({alpha:0},600),y++,w?(doorsStage.addChild(xe),createjs.Tween.get(xe).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,w),1500)):o())}),s.on("click",function(){0===y&&(createjs.Tween.get(this).to({y:this.y-475},600),createjs.Tween.get(dark2).to({alpha:0},600),y++,w?(doorsStage.addChild(xe),createjs.Tween.get(xe).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,w),1500)):o())}),r.on("click",function(){0===y&&(createjs.Tween.get(this).to({y:this.y-475},600),createjs.Tween.get(dark3).to({alpha:0},600),y++,w?(doorsStage.addChild(xe),createjs.Tween.get(xe).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,w),1500)):o())}),l.on("click",function(){0===y&&(createjs.Tween.get(this).to({y:this.y-475},600),createjs.Tween.get(dark4).to({alpha:0},600),y++,w?(doorsStage.addChild(xe),createjs.Tween.get(xe).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,w),1500)):o())}),i.on("click",function(){0===y&&(createjs.Tween.get(this).to({y:this.y-475},600),createjs.Tween.get(dark5).to({alpha:0},600),y++,w?(doorsStage.addChild(xe),createjs.Tween.get(xe).to({scaleX:1,scaleY:1,alpha:1},3e3,Ease.bounceOut),setTimeout(p.bind(null,w),2e3)):o())}),1===e&&doorsStage.addChild(dark1,n,dark2,s,dark3,r,dark4,l,dark5,i,m,x);var b={images:["img/bonuses/room2/doors2.png"],frames:{width:200,height:525},framerate:24,animations:{door1open:[0,9,"stop"],door2open:[1,9,"stop"],door3open:[2,9,"stop"],door4open:[3,9,"stop"],door5open:[4,9,"stop"],stop:9}},S=new createjs.SpriteSheet(b),T={};T.door1open=new createjs.Sprite(S,"door1open"),T.door1open.x=413,T.door1open.y=351,T.door1open.stop(),T.door1open.scaleX=.95,T.door1open.scaleY=.97,T.door1open.skewX=.5,T.door1open.rotation=-1,T.door2open=new createjs.Sprite(S,"door2open"),T.door2open.x=636,T.door2open.y=367,T.door2open.stop(),T.door2open.scaleX=.94,T.door2open.scaleY=.91,T.door3open=new createjs.Sprite(S,"door3open"),T.door3open.x=859,T.door3open.y=370,T.door3open.stop(),T.door3open.scaleX=.94,T.door3open.scaleY=.9,T.door4open=new createjs.Sprite(S,"door4open"),T.door4open.x=1077,T.door4open.y=361,T.door4open.stop(),T.door4open.scaleX=.97,T.door4open.scaleY=.93,T.door5open=new createjs.Sprite(S,"door5open"),T.door5open.x=1291,T.door5open.y=335,T.door5open.stop(),T.door5open.scaleX=1.04,T.door5open.scaleY=1.02,T.door5open.skewX=-.5,T.door5open.rotation=1,T.door1open.on("click",function(){0===y&&(createjs.Tween.get(dark1).to({alpha:0},600),this.play(),y++,w?(doorsStage.addChild(xe),createjs.Tween.get(xe).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,w),2e3)):o())}),T.door2open.on("click",function(){0===y&&(createjs.Tween.get(dark2).to({alpha:0},600),this.play(),y++,w?(doorsStage.addChild(xe),createjs.Tween.get(xe).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,w),2e3)):o())}),T.door3open.on("click",function(){0===y&&(createjs.Tween.get(dark3).to({alpha:0},600),this.play(),y++,w?(doorsStage.addChild(xe),createjs.Tween.get(xe).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,w),2e3)):o())}),T.door4open.on("click",function(){0===y&&(createjs.Tween.get(dark4).to({alpha:0},600),this.play(),y++,w?(doorsStage.addChild(xe),createjs.Tween.get(xe).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,w),2e3)):o())}),T.door5open.on("click",function(){0===y&&(createjs.Tween.get(dark5).to({alpha:0},600),this.play(),y++,w?(doorsStage.addChild(xe),createjs.Tween.get(xe).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,w),2e3)):o())}),2===e&&doorsStage.addChild(dark1,T.door1open,dark2,T.door2open,dark3,T.door3open,dark4,T.door4open,dark5,T.door5open,m,x);var v={images:["img/bonuses/room3/doors2.png"],frames:{width:200,height:525},framerate:24,animations:{door1open:[0,9,"stop"],door2open:[1,9,"stop"],door3open:[2,9,"stop"],door4open:[3,9,"stop"],door5open:[4,9,"stop"],stop:9}},k=new createjs.SpriteSheet(v),C={};C.door1open=new createjs.Sprite(k,"door1open"),C.door1open.x=413,C.door1open.y=351,C.door1open.stop(),C.door1open.scaleX=.95,C.door1open.scaleY=.97,C.door1open.skewX=.5,C.door1open.rotation=-1,C.door2open=new createjs.Sprite(k,"door2open"),C.door2open.x=638,C.door2open.y=367,C.door2open.stop(),C.door2open.scaleX=.93,C.door2open.scaleY=.91,C.door3open=new createjs.Sprite(k,"door3open"),C.door3open.x=859,C.door3open.y=370,C.door3open.stop(),C.door3open.scaleX=.93,C.door3open.scaleY=.9,C.door4open=new createjs.Sprite(k,"door4open"),C.door4open.x=1080,C.door4open.y=361,C.door4open.stop(),C.door4open.scaleX=.96,C.door4open.scaleY=.93,C.door5open=new createjs.Sprite(k,"door5open"),C.door5open.x=1293,C.door5open.y=335,C.door5open.stop(),C.door5open.scaleX=1.04,C.door5open.scaleY=1.02,C.door5open.skewX=-.5,C.door5open.rotation=1,C.door1open.on("click",function(){0===y&&(createjs.Tween.get(dark1).to({alpha:0},600),this.play(),y++,w?(doorsStage.addChild(xe),createjs.Tween.get(xe).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,w),2e3)):o())}),C.door2open.on("click",function(){0===y&&(createjs.Tween.get(dark2).to({alpha:0},600),this.play(),y++,w?(doorsStage.addChild(xe),createjs.Tween.get(xe).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,w),2e3)):o())}),C.door3open.on("click",function(){0===y&&(createjs.Tween.get(dark3).to({alpha:0},600),this.play(),y++,w?(doorsStage.addChild(xe),createjs.Tween.get(xe).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,w),2e3)):o())}),C.door4open.on("click",function(){0===y&&(createjs.Tween.get(dark4).to({alpha:0},600),this.play(),y++,w?(doorsStage.addChild(xe),createjs.Tween.get(xe).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,w),2e3)):o())}),C.door5open.on("click",function(){0===y&&(createjs.Tween.get(dark5).to({alpha:0},600),this.play(),y++,w?(doorsStage.addChild(xe),createjs.Tween.get(xe).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,w),2e3)):o())}),3===e&&doorsStage.addChild(dark1,C.door1open,dark2,C.door2open,dark3,C.door3open,dark4,C.door4open,dark5,C.door5open,m,x);var F={images:["img/bonuses/room4/doors2.png"],frames:{width:200,height:525},framerate:24,animations:{door1open:[0,9,"stop"],door2open:[1,9,"stop"],door3open:[2,9,"stop"],door4open:[3,9,"stop"],door5open:[4,9,"stop"],stop:9}},B=new createjs.SpriteSheet(F),X={};X.door1open=new createjs.Sprite(B,"door1open"),X.door1open.x=413,X.door1open.y=351,X.door1open.stop(),X.door1open.scaleX=.95,X.door1open.scaleY=.97,X.door1open.skewX=.5,X.door1open.rotation=-1,X.door2open=new createjs.Sprite(B,"door2open"),X.door2open.x=638,X.door2open.y=367,X.door2open.stop(),X.door2open.scaleX=.93,X.door2open.scaleY=.91,X.door3open=new createjs.Sprite(B,"door3open"),X.door3open.x=859,X.door3open.y=370,X.door3open.stop(),X.door3open.scaleX=.93,X.door3open.scaleY=.9,X.door4open=new createjs.Sprite(B,"door4open"),X.door4open.x=1080,X.door4open.y=361,X.door4open.stop(),X.door4open.scaleX=.96,X.door4open.scaleY=.93,X.door5open=new createjs.Sprite(B,"door5open"),X.door5open.x=1293,X.door5open.y=335,X.door5open.stop(),X.door5open.scaleX=1.04,X.door5open.scaleY=1.02,X.door5open.skewX=-.5,X.door5open.rotation=1,X.door1open.on("click",function(){0===y&&(createjs.Tween.get(dark1).to({alpha:0},600),this.play(),y++,w?(doorsStage.addChild(xe),createjs.Tween.get(xe).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,w),2e3)):o())}),X.door2open.on("click",function(){0===y&&(createjs.Tween.get(dark2).to({alpha:0},600),this.play(),y++,w?(doorsStage.addChild(xe),createjs.Tween.get(xe).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,w),2e3)):o())}),X.door3open.on("click",function(){0===y&&(createjs.Tween.get(dark3).to({alpha:0},600),this.play(),y++,w?(doorsStage.addChild(xe),createjs.Tween.get(xe).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,w),2e3)):o())}),X.door4open.on("click",function(){0===y&&(createjs.Tween.get(dark4).to({alpha:0},600),this.play(),y++,w?(doorsStage.addChild(xe),createjs.Tween.get(xe).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,w),2e3)):o())}),X.door5open.on("click",function(){0===y&&(createjs.Tween.get(dark5).to({alpha:0},600),this.play(),y++,w&&(doorsStage.addChild(xe),createjs.Tween.get(xe).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,w),2e3)))}),4===e&&doorsStage.addChild(dark1,X.door1open,dark2,X.door2open,dark3,X.door3open,dark4,X.door4open,dark5,X.door5open,m,x);var Y={},E={images:["img/bonuses/room5/svet.png"],frames:{width:296,height:304},framerate:12,animations:{open:[0,9]}};Y.svet=new createjs.Sprite(new createjs.SpriteSheet(E),"open"),Y.svet.alpha=0,Y.svet.stop(),Y.svet1=Y.svet.clone(),Y.svet1.x=375,Y.svet1.y=520,Y.svet2=Y.svet.clone(),Y.svet2.x=590,Y.svet2.y=510,Y.svet3=Y.svet.clone(),Y.svet3.x=815,Y.svet3.y=510,Y.svet4=Y.svet.clone(),Y.svet4.x=1035,Y.svet4.y=510,Y.svet5=Y.svet.clone(),Y.svet5.x=1245,Y.svet5.y=520,Y.stolb=new createjs.Bitmap("img/bonuses/room5/stolb.png"),Y.stolb.alpha=0,Y.stolb1=Y.stolb.clone(),Y.stolb1.x=410,Y.stolb1.y=-250,Y.stolb2=Y.stolb.clone(),Y.stolb2.x=625,Y.stolb2.y=-250,Y.stolb3=Y.stolb.clone(),Y.stolb3.x=845,Y.stolb3.y=-250,Y.stolb4=Y.stolb.clone(),Y.stolb4.x=1065,Y.stolb4.y=-250,Y.stolb5=Y.stolb.clone(),Y.stolb5.x=1275,Y.stolb5.y=-250;var G={images:["img/bonuses/room5/moneti.png"],frames:{width:129,height:663},framerate:12,animations:{open:[0,12,"fly"],fly:[7,11],stop:21}};Y.monetki=new createjs.Sprite(new createjs.SpriteSheet(G),"open"),Y.monetki.alpha=0,Y.monetki.stop(),Y.monetki1=Y.monetki.clone(),Y.monetki1.x=445,Y.monetki2=Y.monetki.clone(),Y.monetki2.x=660,Y.monetki3=Y.monetki.clone(),Y.monetki3.x=880,Y.monetki4=Y.monetki.clone(),Y.monetki4.x=1105,Y.monetki5=Y.monetki.clone(),Y.monetki5.x=1310;var A={images:["img/bonuses/room5/muha.png"],frames:{width:134,height:416},framerate:12,animations:{open:[0,29,"stop"],stop:29}};Y.muha=new createjs.Sprite(new createjs.SpriteSheet(A),"open"),Y.muha.alpha=0,Y.muha.stop(),Y.muha1=Y.muha.clone(),Y.muha1.x=410,Y.muha1.y=235,Y.muha2=Y.muha.clone(),Y.muha2.x=625,Y.muha2.y=225,Y.muha3=Y.muha.clone(),Y.muha3.x=845,Y.muha3.y=225,Y.muha4=Y.muha.clone(),Y.muha4.x=1065,Y.muha4.y=225,Y.muha5=Y.muha.clone(),Y.muha5.x=1275,Y.muha5.y=235;var _={images:["img/bonuses/room5/chest1gif.png"],frames:{width:220,height:220},framerate:12,animations:{open:[0,5,"stop"],stop:5}},O=new createjs.SpriteSheet(_);Y.chest1=new createjs.Sprite(O,"open"),Y.chest1.x=425,Y.chest1.y=570,Y.chest1.scaleX=.84,Y.chest1.scaleY=.84,Y.chest1.stop(),Y.chest1.on("click",function(){0===y&&(this.play(),f[e-1]?(doorsStage.addChild(Y.svet1,Y.chest1,Y.monetki1,Y.stolb1),createjs.Tween.get(Y.svet1).to({alpha:1},200),createjs.Tween.get(Y.monetki1).to({alpha:1},500),createjs.Tween.get(Y.stolb1).wait(200).to({alpha:.8},300),setTimeout(Y.monetki1.play.bind(Y.monetki1),200),Y.svet1.play(),doorsStage.addChild(xe),createjs.Tween.get(xe).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),o()):(doorsStage.addChild(Y.chest1,Y.muha1),createjs.Tween.get(Y.muha1).to({alpha:1},500),setTimeout(Y.muha1.play.bind(Y.muha1),300),Y.muha1.on("change",function(){29===+parseInt(Y.muha1.currentAnimationFrame)&&createjs.Tween.get(Y.muha1).to({alpha:0},200)}),o()),y++)});var P={images:["img/bonuses/room5/chest3gif.png"],frames:{width:220,height:220},framerate:12,animations:{open:[0,5,"stop"],stop:5}},I=new createjs.SpriteSheet(P);Y.chest3=new createjs.Sprite(I,"open"),Y.chest3.x=865,Y.chest3.y=575,Y.chest3.scaleX=.8,Y.chest3.scaleY=.8,Y.chest3.stop(),Y.chest3.on("click",function(){0===y&&(this.play(),f[e-1]?(doorsStage.addChild(Y.svet3,Y.chest3,Y.monetki3,Y.stolb3),createjs.Tween.get(Y.svet3).to({alpha:1},200),createjs.Tween.get(Y.monetki3).to({alpha:1},500),createjs.Tween.get(Y.stolb3).wait(200).to({alpha:.8},300),setTimeout(Y.monetki3.play.bind(Y.monetki3),200),Y.svet3.play(),doorsStage.addChild(xe),createjs.Tween.get(xe).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),o()):(doorsStage.addChild(Y.chest3,Y.muha3),createjs.Tween.get(Y.muha3).to({alpha:1},500),setTimeout(Y.muha3.play.bind(Y.muha3),300),Y.muha3.on("change",function(){29===+parseInt(Y.muha3.currentAnimationFrame)&&createjs.Tween.get(Y.muha3).to({alpha:0},200)}),o()),y++)}),Y.chest2=Y.chest3.clone(),Y.chest2.x=645,Y.chest2.y=575,Y.chest2.scaleX=.8,Y.chest2.scaleY=.8,Y.chest2.on("click",function(){0===y&&(this.play(),f[e-1]?(doorsStage.addChild(Y.svet2,Y.chest2,Y.monetki2,Y.stolb2),createjs.Tween.get(Y.svet2).to({alpha:1},200),createjs.Tween.get(Y.monetki2).to({alpha:1},500),createjs.Tween.get(Y.stolb2).wait(200).to({alpha:.8},300),setTimeout(Y.monetki2.play.bind(Y.monetki2),200),Y.svet2.play(),doorsStage.addChild(xe),createjs.Tween.get(xe).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),o()):(doorsStage.addChild(Y.chest2,Y.muha2),createjs.Tween.get(Y.muha2).to({alpha:1},500),setTimeout(Y.muha2.play.bind(Y.muha2),300),Y.muha2.on("change",function(){29===+parseInt(Y.muha2.currentAnimationFrame)&&createjs.Tween.get(Y.muha2).to({alpha:0},200)}),o()),y++)}),Y.chest4=Y.chest3.clone(),Y.chest4.x=1093,Y.chest4.y=575,Y.chest4.scaleX=.8,Y.chest4.scaleY=.8,Y.chest4.on("click",function(){0===y&&(this.play(),f[e-1]?(doorsStage.addChild(Y.svet4,Y.chest4,Y.monetki4,Y.stolb4),createjs.Tween.get(Y.svet4).to({alpha:1},200),createjs.Tween.get(Y.monetki4).to({alpha:1
},500),createjs.Tween.get(Y.stolb4).wait(200).to({alpha:.8},300),setTimeout(Y.monetki4.play.bind(Y.monetki4),200),Y.svet4.play(),doorsStage.addChild(xe),createjs.Tween.get(xe).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),o()):(doorsStage.addChild(Y.chest4,Y.muha4),createjs.Tween.get(Y.muha4).to({alpha:1},500),setTimeout(Y.muha4.play.bind(Y.muha4),300),Y.muha4.on("change",function(){29===+parseInt(Y.muha4.currentAnimationFrame)&&createjs.Tween.get(Y.muha4).to({alpha:0},200)}),o()),y++)});var M={images:["img/bonuses/room5/chest5gif.png"],frames:{width:220,height:220},framerate:12,animations:{open:[0,5,"stop"],stop:5}},N=new createjs.SpriteSheet(M);Y.chest5=new createjs.Sprite(N,"open"),Y.chest5.x=1305,Y.chest5.y=570,Y.chest5.scaleX=.84,Y.chest5.scaleY=.84,Y.chest5.stop(),Y.chest5.on("click",function(){0===y&&(this.play(),f[e-1]?(doorsStage.addChild(Y.svet5,Y.chest5,Y.monetki5,Y.stolb5),createjs.Tween.get(Y.svet5).to({alpha:1},200),createjs.Tween.get(Y.monetki5).to({alpha:1},500),createjs.Tween.get(Y.stolb5).wait(200).to({alpha:.8},300),setTimeout(Y.monetki5.play.bind(Y.monetki5),200),Y.svet5.play(),doorsStage.addChild(xe),createjs.Tween.get(xe).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),o()):(doorsStage.addChild(Y.chest5,Y.muha5),createjs.Tween.get(Y.muha5).to({alpha:1},500),setTimeout(Y.muha5.play.bind(Y.muha5),300),Y.muha5.on("change",function(){29===+parseInt(Y.muha5.currentAnimationFrame)&&createjs.Tween.get(Y.muha5).to({alpha:0},200)}),o()),y++)}),5===e&&doorsStage.addChild(m,Y.chest1,Y.chest2,Y.chest3,Y.chest4,Y.chest5,x)}function h(e,t,o,a){function n(){g=Math.ceil(x+10*Math.random()),x=g,g>e&&(g=e,x=0,clearInterval(m))}function s(){var e=String(g).split("");w.removeAllChildren(),w.x=t/2-256*e.length/2,w.y=o/2-175;for(var n=0;n<e.length;n++){var s=new createjs.Bitmap("img/bonuses/BigWin/"+e[n]+".png");s.x=256*n,w.addChild(s)}a.addChild(w),g===H&&(clearInterval(y),createjs.Tween.get(w,{loop:!0}).to({alpha:.8,scaleX:.9,scaleY:.9,y:o/2-157.5,x:t/2-230*e.length/2},500).to({alpha:1,scaleX:1.1,scaleY:1.1,y:o/2-192.5,x:t/2-282*e.length/2},500).to({alpha:1,scaleX:1,scaleY:1,y:o/2-175,x:t/2-256*e.length/2},500))}function r(){function e(){createjs.Tween.get(r).to({alpha:0},500),createjs.Tween.get(l).to({alpha:0},500),createjs.Tween.get(w).to({alpha:0},500);for(var e=0;p>e;e++)createjs.Tween.get(c[e]).to({alpha:0},500)}function n(){for(var e=0;p>e;e++)a.removeChild(c[e]);a.removeChild(l,w),clearInterval(y)}l.alpha=.5;for(var s=0;p>s;s++)c[s].alpha=1,setTimeout(c[s].play.bind(c[s]),300*Math.random());var r=new createjs.Bitmap("img/bonuses/BigWin/BigWin.png");r.x=t/2,r.y=.2*o,r.scaleX=r.scaleY=0,a.addChild(r),createjs.Tween.get(r).to({scaleX:1,scaleY:1,x:t/2-500,y:.2*o-150},500).wait(1500).to({scaleX:0,scaleY:0,x:t/2,y:.3*o},0).wait(500).to({scaleX:1,scaleY:1,x:t/2-500,y:.2*o-150},500).wait(1500).to({scaleX:0,scaleY:0,x:t/2,y:.3*o},0).wait(500).to({scaleX:1,scaleY:1,x:t/2-500,y:.2*o-150},500).wait(500).call(e).wait(500).call(n)}var l=new createjs.Shape;l.graphics.beginFill("#000").drawRect(0,0,t,o),l.alpha=0,a.addChild(l),xe&&a.removeChild(xe);for(var i={images:["img/bonuses/BigWin/moneta.png"],frames:{width:148,height:195},framerate:16,animations:{open:[0,15]}},d=new createjs.Sprite(new createjs.SpriteSheet(i),"open"),c=[],p=(Math.random()+.5)*e/3,h=0;p>h;h++){var u=d.clone();u.stop(),u.alpha=0,u.x=Math.random()*t,u.y=(Math.random()-.5)*o,u.scaleX=u.scaleY=Math.random()+.3,u.scaleX>1&&(u.scaleX=u.scaleY=1),u.rotation=90*(Math.random()-.5),u.speed=5*(Math.random()+.5),createjs.Tween.get(u,{loop:!0}).to({y:u.y+1.5*o},15e3/u.speed),c.push(u),a.addChild(u)}var g,m=setInterval(n.bind(null),6e3/e),x=0,w=new createjs.Container,y=setInterval(s.bind(null),100);setTimeout(r.bind(null),2e3)}bgStage.alpha=0;var u,g,m,x,w,y,j,f,b,S,T,v,k,C,F,B,X,Y,E,G,A,_,O,P,I,M,N,L,W,H,R,J,D,q=(document.getElementById("game"),[]),z=[],Q=[],K=5e3,U=!1,V=3400,Z=[],ee=0,te="SomeName"+100*Math.random(),oe="http://176.105.103.83:99/JSON/SlotService.svc/",ae=0,ne=[],se=gameStage.canvas.width/5,re=gameStage.canvas.height/3,le=[],ie=[],de=[],ce=[],pe=[],he=[],ue=[],ge=[],me=[];createjs.Ticker.timingMode=createjs.Ticker.RAF,createjs.Ticker.addEventListener("tick",bgStage),createjs.Ticker.addEventListener("tick",panelStage),createjs.Ticker.addEventListener("tick",gameStage),createjs.Ticker.addEventListener("tick",doorsStage),e("bgCanvas",BG_WIDTH,1,.5625),e("panelCanvas",PANEL_WIDTH,1,.5625),e("gameCanvas",GAME_WIDTH,.67,.5625),e("doorsCanvas",PANEL_WIDTH,1,.5625),doorsStage.alpha=0,t(),o(),panelStage.enableMouseOver(5),a(),n(),s(te);var xe;$("#withoutSound").click(function(){createjs.Sound.muted?(createjs.Sound.muted=!1,$(this)[0].innerHTML="Выключить звук!!!"):(createjs.Sound.muted=!0,$(this)[0].innerHTML="Включить звук!!!")}),$("#bigWin").click(function(){h(1500,PANEL_WIDTH,PANEL_HEIGHT,panelStage)})}function freeSpins(){function e(){function e(){var e,t;for(t=1;21>=t;t++)e=new createjs.Bitmap("img/Lines/Line"+t+".png"),e.alpha=0,gameStage.addChild(e),s.push(e);for(s[0].y=334,s[1].y=139,s[2].y=574,s[3].y=54,s[4].y=94,s[5].y=90,s[6].y=335,s[7].x=85,s[7].y=144,s[8].y=288,s[9].y=380,s[10].y=108,s[11].x=85,s[11].y=105,s[12].x=85,s[12].y=45,s[13].x=85,s[13].y=104,s[14].x=85,s[14].y=92,s[15].x=85,s[15].y=99,s[16].x=85,s[16].y=184,s[17].y=137,s[18].y=105,s[19].y=379,s[20].x=105,s[20].y=98,t=0;20>=t;t++)r.push(s[t].clone()),gameStage.addChild(r[t])}function t(){var e,t,s;for(s=1;22>=s;s++)e=new createjs.Text(s,"20px Arial","#ddcb8c"),n.push(e),t=new createjs.Shape,t.graphics.beginFill("#000").drawCircle(e.getMeasuredWidth()/2,e.getMeasuredHeight()/2,19),e.hitArea=t,e.on("mouseover",function(){o(this.text),this.shadow=new createjs.Shadow("#FFFFFF",1,1,2)}),e.on("mouseout",function(){a(this.text),this.shadow.offsetX=this.shadow.offsetY=this.shadow.blur=0});n[21].text=1,n[0].x=549,n[0].y=455,n[1].x=1855,n[1].y=257,n[2].x=1855,n[2].y=697,n[3].x=549,n[3].y=165,n[4].x=549,n[4].y=789,n[5].x=549,n[5].y=210,n[6].x=550,n[6].y=744,n[7].x=1855,n[7].y=548,n[8].x=549,n[8].y=409,n[9].x=542,n[9].y=650,n[10].x=543,n[10].y=303,n[11].x=1848,n[11].y=789,n[12].x=1848,n[12].y=165,n[13].x=1848,n[13].y=744,n[14].x=1848,n[14].y=212,n[15].x=1848,n[15].y=651,n[16].x=1848,n[16].y=304,n[17].x=543,n[17].y=257,n[18].x=543,n[18].y=697,n[19].x=543,n[19].y=501,n[20].x=1850,n[20].y=501,n[21].x=1855,n[21].y=455;for(var s=0;s<n.length;s++)panelStage.addChild(n[s])}function o(e){s[e-1].alpha=1}function a(e){s[e-1].alpha=0}e(),t()}bgStage.removeAllChildren(),panelStage.removeAllChildren();var t=new createjs.Bitmap("img/free spins/bg.png"),o=new createjs.Bitmap("img/free spins/germanBG.png"),a=new createjs.Bitmap("img/free spins/panelBG.png");bgStage.addChild(t,o),panelStage.addChild(a);var n=[],s=[],r=[];e()}var BG_WIDTH=1920,BG_HEIGHT=1080,PANEL_WIDTH=1920,PANEL_HEIGHT=1080,GAME_WIDTH=1280,GAME_HEIGHT=720,bgStage=new createjs.Stage("bgCanvas"),panelStage=new createjs.Stage("panelCanvas"),gameStage=new createjs.Stage("gameCanvas"),doorsStage=new createjs.Stage("doorsCanvas");($("html").hasClass("ios")||$("html").hasClass("iphone"))&&$(document).bind("touchmove",!1),$(document).ready(init);