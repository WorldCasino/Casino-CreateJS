function launchFullScreen(e){e.requestFullScreen?e.requestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen&&e.webkitRequestFullScreen()}function init(){function e(e,o,t,a){function n(){var n=document.getElementById(e);n.style.width=document.getElementById("game").clientWidth*t+"px",parseInt(n.style.width)>o&&(n.style.width=o+"px"),n.style.height=parseInt(n.style.width)*a+"px"}n(),$(window).on("resize",n)}function o(){var e,o,t;for(e=new createjs.LoadQueue,e.loadFile("img/bg/mainBG.png"),e.loadFile("img/bg/cloudsBG.png"),e.loadFile("img/bg/mainFG.png"),e.loadFile("img/bg/gameBG.png"),e.loadFile("img/bg/fogBG.png"),e.loadFile("img/bg/panelBG.png"),e.loadFile("img/bg/lampBottomBG.png"),e.loadFile("img/bg/lampTopBG.png"),e.loadFile("img/buttons/Spin.png"),e.loadFile("img/buttons/Spin_hov.png"),e.loadFile("img/buttons/Spin_tach.png"),e.loadFile("img/buttons/AutoPlay.png"),e.loadFile("img/buttons/AutoPlay_hov.png"),e.loadFile("img/buttons/AutoPlay_tach.png"),e.loadFile("img/buttons/MaxBet.png"),e.loadFile("img/buttons/MaxBet_hov.png"),e.loadFile("img/buttons/MaxBet_tach.png"),e.loadFile("img/buttons/Minus.png"),e.loadFile("img/buttons/Minus_hov.png"),e.loadFile("img/buttons/Minus_tach.png"),e.loadFile("img/buttons/Plus.png"),e.loadFile("img/buttons/Plus_hov.png"),e.loadFile("img/buttons/Plus_tach.png"),o=1;13>=o;o++)e.loadFile("img/game/"+o+".png"),e.loadFile("img/game/win/"+o+".png"),10>=o&&e.loadFile("img/game/blur/"+o+"b.png"),createjs.Sound.registerSound("sound/spinClick.wav","spinClickSound"),createjs.Sound.registerSound("sound/click.wav","buttonClickSound"),createjs.Sound.registerSound("sound/barabaniKrutyatsa.wav","spinProcessSound"),createjs.Sound.registerSound("sound/barabanStop.wav","spinEndSound");for(t=1;21>=t;t++)e.loadFile("img/lines/Line"+t+".png")}function t(){var e=new createjs.Bitmap("img/bg/mainBG.png"),o=new createjs.Bitmap("img/bg/cloudsBG.png");new createjs.Bitmap("img/bg/mainFG.png");o.x=-300,createjs.Tween.get(o,{loop:!0}).to({x:300},6e4).to({x:-300},6e4);var t=new createjs.Bitmap("img/bg/fogBG.png");t.x=-500,t.y=600,createjs.Tween.get(t,{loop:!0}).to({x:0},2e4).to({x:-500},2e4);var a=new createjs.Bitmap("img/bg/lampTopBG.png"),n=new createjs.Bitmap("img/bg/lampBottomBG.png");n.x=-20,n.y=65,a.x=8,a.y=116;var s=new createjs.Bitmap("img/bg/panelBG.png");panelStage.addChild(e,o,s,a,n,t);var r=new createjs.Bitmap("img/bg/gameBG.png");gameStage.addChild(r)}function a(){function e(){var e,o;for(o=1;21>=o;o++)e=new createjs.Bitmap("img/Lines/Line"+o+".png"),e.alpha=0,gameStage.addChild(e),D.push(e);for(D[0].y=334,D[1].y=139,D[2].y=574,D[3].y=54,D[4].y=94,D[5].y=90,D[6].y=335,D[7].x=85,D[7].y=144,D[8].y=288,D[9].y=380,D[10].y=108,D[11].x=85,D[11].y=105,D[12].x=85,D[12].y=45,D[13].x=85,D[13].y=104,D[14].x=85,D[14].y=92,D[15].x=85,D[15].y=99,D[16].x=85,D[16].y=184,D[17].y=137,D[18].y=105,D[19].y=379,D[20].x=105,D[20].y=98,o=0;20>=o;o++)z.push(D[o].clone()),gameStage.addChild(z[o])}function o(){var e,o,n;for(n=1;22>=n;n++)e=new createjs.Text(n,"20px Arial","#ddcb8c"),q.push(e),o=new createjs.Shape,o.graphics.beginFill("#000").drawCircle(e.getMeasuredWidth()/2,e.getMeasuredHeight()/2,19),e.hitArea=o,e.on("mouseover",function(){t(this.text),this.shadow=new createjs.Shadow("#FFFFFF",1,1,2)}),e.on("mouseout",function(){a(this.text),this.shadow.offsetX=this.shadow.offsetY=this.shadow.blur=0});q[21].text=1,q[0].x=549,q[0].y=455,q[1].x=1855,q[1].y=257,q[2].x=1855,q[2].y=697,q[3].x=549,q[3].y=165,q[4].x=549,q[4].y=789,q[5].x=549,q[5].y=210,q[6].x=550,q[6].y=744,q[7].x=1855,q[7].y=548,q[8].x=549,q[8].y=409,q[9].x=542,q[9].y=650,q[10].x=543,q[10].y=303,q[11].x=1848,q[11].y=789,q[12].x=1848,q[12].y=165,q[13].x=1848,q[13].y=744,q[14].x=1848,q[14].y=212,q[15].x=1848,q[15].y=651,q[16].x=1848,q[16].y=304,q[17].x=543,q[17].y=257,q[18].x=543,q[18].y=697,q[19].x=543,q[19].y=501,q[20].x=1850,q[20].y=501,q[21].x=1855,q[21].y=455;for(var n=0;n<q.length;n++)panelStage.addChild(q[n])}function t(e){D[e-1].alpha=1}function a(e){D[e-1].alpha=0}e(),o()}function n(){function e(){var e=new createjs.Text("BET","bold 13px Arial","#ffffff");e.x=628,e.y=867;var o=new createjs.Text("COINS","bold 13px Arial","#ffffff");o.x=1752,o.y=867,panelStage.addChild(e,o),u=new createjs.Text("0.02","bold 25px Arial","#dddddd"),u.x=1553,u.y=942,h=new createjs.Text(Q/+u.text,"bold 25px Arial","#dddddd"),h.x=1753,h.y=928,g=new createjs.Text("1","bold 25px Arial","#dddddd"),g.x=828,g.y=942,x=new createjs.Text("15","bold 25px Arial","#dddddd"),x.x=625,x.y=921,panelStage.addChild(u,h,g,x);var t=new createjs.Text("Cash: €","bold 20px Arial","#dddddd");t.x=890,t.y=1046;var a=new createjs.Text("Bet: €","bold 20px Arial","#dddddd");a.x=1130,a.y=1046;var n=new createjs.Text("Win: €","bold 20px Arial","#dddddd");n.x=1362,n.y=1046,panelStage.addChild(t,a,n),m=new createjs.Text(Q.toFixed(2)+"","bold 20px Arial","#dddddd"),m.x=980,m.y=1046,y=new createjs.Text((+x.text*+u.text).toFixed(2)+"","bold 20px Arial","#dddddd"),y.x=1220,y.y=1046,w=new createjs.Text("0.00","bold 20px Arial","#dddddd"),w.x=1450,w.y=1046,panelStage.addChild(m,y,w)}function o(){f=new createjs.Bitmap("img/buttons/Spin.png"),j=new createjs.Bitmap("img/buttons/Spin_hov.png"),S=new createjs.Bitmap("img/buttons/Spin_tach.png"),f.x=1140,f.y=866,j.x=1140,j.y=866,S.x=1140,S.y=866,f.alpha=1,j.alpha=0,S.alpha=0,f.cursor=j.cursor=S.cursor="pointer",panelStage.addChild(f,j,S),b=new createjs.Bitmap("img/buttons/AutoPlay.png"),T=new createjs.Bitmap("img/buttons/AutoPlay_hov.png"),v=new createjs.Bitmap("img/buttons/AutoPlay_tach.png"),b.x=944,b.y=922,T.x=944,T.y=922,v.x=944,v.y=922,b.alpha=1,T.alpha=0,v.alpha=0,b.cursor=T.cursor=v.cursor="pointer",panelStage.addChild(b,T,v),k=new createjs.Bitmap("img/buttons/MaxBet.png"),C=new createjs.Bitmap("img/buttons/MaxBet_hov.png"),B=new createjs.Bitmap("img/buttons/MaxBet_tach.png"),k.x=1314,k.y=920,C.x=1314,C.y=920,B.x=1314,B.y=920,k.alpha=1,C.alpha=0,B.alpha=0,k.cursor=C.cursor=B.cursor="pointer",panelStage.addChild(k,C,B),Y=new createjs.Bitmap("img/buttons/Minus.png"),G=new createjs.Bitmap("img/buttons/Minus_hov.png"),_=new createjs.Bitmap("img/buttons/Minus_tach.png"),Y.x=1494,Y.y=937,G.x=1494,G.y=937,_.x=1494,_.y=937,Y.alpha=1,G.alpha=0,_.alpha=0,Y.cursor=G.cursor=_.cursor="pointer",panelStage.addChild(Y,G,_),F=new createjs.Bitmap("img/buttons/Plus.png"),E=new createjs.Bitmap("img/buttons/Plus_hov.png"),X=new createjs.Bitmap("img/buttons/Plus_tach.png"),F.x=1624,F.y=937,E.x=1624,E.y=937,X.x=1624,X.y=937,F.alpha=1,E.alpha=0,X.alpha=0,F.cursor=E.cursor=X.cursor="pointer",panelStage.addChild(F,E,X),M=Y.clone(),I=G.clone(),N=_.clone(),M.x=I.x=N.x=750,panelStage.addChild(M,I,N),O=F.clone(),A=E.clone(),P=X.clone(),O.x=A.x=P.x=880,panelStage.addChild(O,A,P)}function t(){function e(){S.alpha=0,K=!1}function o(){K||(K=!0,S.alpha=1,setTimeout(e.bind(null),U),d())}function t(){for(var e=0;e<V.length;e++)V[e]&&(clearInterval(V[e]),B.alpha=0,v.alpha=0)}f.on("rollover",function(){j.alpha=1}),f.on("rollout",function(){j.alpha=0}),j.on("rollover",function(){j.alpha=1}),j.on("rollout",function(){j.alpha=0}),f.on("mousedown",function(){o(),t()}),j.on("mousedown",function(){o(),t()}),$(document).on("keydown",function(e){(32===e.keyCode||32===e.which)&&(o(),t())}),b.on("rollover",function(){T.alpha=1}),b.on("rollout",function(){T.alpha=0}),T.on("rollover",function(){T.alpha=1}),T.on("rollout",function(){T.alpha=0}),T.on("mousedown",function(){v.alpha=1,B.alpha=1,o(),V[Z]=setInterval(o.bind(null),U+500)}),v.on("mousedown",function(){v.alpha=0,B.alpha=0,clearInterval(V[Z]),Z++}),k.on("rollover",function(){C.alpha=1}),k.on("rollout",function(){C.alpha=0}),C.on("rollover",function(){C.alpha=1}),C.on("rollout",function(){C.alpha=0}),C.on("mousedown",function(){B.alpha=1,g.text=10,g.x=822,x.text=(15*+g.text).toFixed(0),x.x=620,x.y=923,x.font="bold 23px Arial",y.text=(+x.text*+u.text).toFixed(2),$.ajax({url:oe+"_SetBet/"+R+"/"+g.text,dataType:"JSONP",type:"GET",success:function(){o()}})}),C.on("click",function(){B.alpha=0}),Y.on("rollover",function(){G.alpha=1}),Y.on("rollout",function(){G.alpha=0}),G.on("rollover",function(){G.alpha=1}),G.on("rollout",function(){G.alpha=0}),G.on("mousedown",function(){+u.text>.01&&(.02===+u.text&&(u.text="0.01"),.05===+u.text&&(u.text="0.02"),.1===+u.text&&(u.text="0.05"),.2===+u.text&&(u.text="0.10"),.5===+u.text&&(u.text="0.20"),1===+u.text&&(u.text="0.50"),createjs.Sound.play("buttonClickSound")),h.text=(+m.text/+u.text).toFixed(0),y.text=(+x.text*+u.text).toFixed(2),+h.text>=10&&(h.x=1777),+h.text>=100&&(h.x=1771),+h.text>=1e3&&(h.x=1765),+h.text>=1e4&&(h.x=1759)}),F.on("rollover",function(){E.alpha=1}),F.on("rollout",function(){E.alpha=0}),E.on("rollover",function(){E.alpha=1}),E.on("rollout",function(){E.alpha=0}),E.on("mousedown",function(){+u.text<1&&(.5===+u.text&&(u.text="1.00"),.2===+u.text&&(u.text="0.50"),.1===+u.text&&(u.text="0.20"),.05===+u.text&&(u.text="0.10"),.02===+u.text&&(u.text="0.05"),.01===+u.text&&(u.text="0.02"),createjs.Sound.play("buttonClickSound")),h.text=(+m.text/+u.text).toFixed(0),y.text=(+x.text*+u.text).toFixed(2),+h.text<1e5&&(h.x=1759),+h.text<1e4&&(h.x=1765),+h.text<1e3&&(h.x=1771),+h.text<100&&(h.x=1777)}),M.on("rollover",function(){I.alpha=1}),M.on("rollout",function(){I.alpha=0}),I.on("rollover",function(){I.alpha=1}),I.on("rollout",function(){I.alpha=0}),I.on("mousedown",function(){+g.text>1&&(g.text=+g.text-1,createjs.Sound.play("buttonClickSound")),x.text=15*g.text,y.text=(+x.text*+u.text).toFixed(2),+x.text<100&&(x.x=625,x.y=921,x.font="bold 25px Arial"),10!==+g.text&&(g.x=828),$.ajax({url:oe+"_SetBet/"+R+"/"+g.text,dataType:"JSONP",type:"GET",success:function(){}})}),O.on("rollover",function(){A.alpha=1}),O.on("rollout",function(){A.alpha=0}),A.on("rollover",function(){A.alpha=1}),A.on("rollout",function(){A.alpha=0}),A.on("mousedown",function(){+g.text<10&&(g.text=+g.text+1,createjs.Sound.play("buttonClickSound")),x.text=15*g.text,y.text=(+x.text*+u.text).toFixed(2),+x.text>100&&(x.x=620,x.y=923,x.font="bold 23px Arial"),10===+g.text&&(g.x=822),$.ajax({url:oe+"_SetBet/"+R+"/"+g.text,dataType:"JSONP",type:"GET",success:function(){}})})}e(),o(),t()}function s(e){$.ajax({url:oe+"_Login/"+e,dataType:"JSONP",type:"GET",success:function(e){R=e,$.ajax({url:oe+"_Play/"+R+"/"+te,dataType:"JSONP",type:"GET",success:function(e){void 0!==e.hPlayResult&&$.ajax({url:oe+"_Ready/"+R,dataType:"JSONP",type:"GET",success:function(e){void 0!==e&&($.ajax({url:oe+"_GetWheels/"+R+"/0",dataType:"JSONP",type:"GET",success:function(e){var o,t=0;for(re[0]=e,o=0;5>o;o++)void 0!==re[o]&&t++;5===t&&r(re)}}),$.ajax({url:oe+"_GetWheels/"+R+"/1",dataType:"JSONP",type:"GET",success:function(e){var o,t=0;for(re[1]=e,o=0;5>o;o++)void 0!==re[o]&&t++;5===t&&r(re)}}),$.ajax({url:oe+"_GetWheels/"+R+"/2",dataType:"JSONP",type:"GET",success:function(e){var o,t=0;for(re[2]=e,o=0;5>o;o++)void 0!==re[o]&&t++;5===t&&r(re)}}),$.ajax({url:oe+"_GetWheels/"+R+"/3",dataType:"JSONP",type:"GET",success:function(e){var o,t=0;for(re[3]=e,o=0;5>o;o++)void 0!==re[o]&&t++;5===t&&r(re)}}),$.ajax({url:oe+"_GetWheels/"+R+"/4",dataType:"JSONP",type:"GET",success:function(e){var o,t=0;for(re[4]=e,o=0;5>o;o++)void 0!==re[o]&&t++;5===t&&r(re)}}),$.ajax({url:oe+"_SetBet/"+R+"/1",dataType:"JSONP",type:"GET",success:function(){}}),$.ajax({url:oe+"_GetLines/"+R,dataType:"JSONP",type:"GET",success:function(e){var o,t;for(ae=e.split("|"),o=0;o<ae.length;o++)for(ae[o]=ae[o].split("@"),t=0;t<ae[o].length;t++)ae[o][t]=ae[o][t].split(",")}}))}})}})}})}function r(e){function o(e){var o;for(o=0;o<e.length;o++)"j"===e[o]&&(e[o]=1),"iJ"===e[o]&&(e[o]=2),"q"===e[o]&&(e[o]=3),"iQ"===e[o]&&(e[o]=4),"k"===e[o]&&(e[o]=5),"ik"===e[o]&&(e[o]=6),"a"===e[o]&&(e[o]=7),"iA"===e[o]&&(e[o]=8),"wild"===e[o]&&(e[o]=9),"scatter"===e[o]&&(e[o]=10),"sw.sw1"===e[o]&&(e[o]=11),"sw.sw2"===e[o]&&(e[o]=12),"sw.sw3"===e[o]&&(e[o]=13)}function t(e){var o,t=[];for(o=0;o<e.length;o++)t[o]=e[o].slice(0,5);return t}var a;for(a=0;a<e.length;a++)e[a]=e[a].split("@"),o(e[a]);ce=t(e),l()}function l(){function e(e){var o,t,a;for(o=new createjs.Container,a=0;5>a;a++)ie[a]=ce[e][a],de[a]=se*(a-1),t=new createjs.Bitmap("img/game/"+ie[a]+".png"),t.y=de[a],o.addChild(t);return o}var o;for(o=0;5>o;o++)le[o]=e(o),le[o].x=ne*o,gameStage.addChild(le[o])}function i(){function e(e){var o,t,a;for(o=new createjs.Container,a=0;60>a;a++)5>a?(ie[a]=pe[e][a],t=new createjs.Bitmap("img/game/"+ie[a]+".png")):a>54?(ie[a]=ce[e][a-55],t=new createjs.Bitmap("img/game/"+ie[a]+".png")):(ie[a]=Math.ceil(10*Math.random()),t=new createjs.Bitmap("img/game/blur/"+ie[a]+"b.png")),de[a]=se*(a+1+3-60),t.y=de[a],o.addChild(t);return o}function o(e){var o,t,a;for(o=new createjs.Container,a=0;5>a;a++)ie[a]=pe[e][a],t=new createjs.Bitmap("img/game/win/"+ie[a]+".png"),de[a]=se*(a-1),t.y=de[a],t.alpha=0,o.addChild(t);return o.y=de[1],o}for(var t=0;21>t;t++)D[t].alpha=0,z[t].alpha=0,q[t].shadow&&(q[t].shadow.offsetX=q[t].shadow.offsetY=q[t].shadow.blur=0);gameStage.removeChild(H);for(var a=0;5>a;a++)gameStage.removeChild(le[a]),gameStage.removeChild(ue[a]),ue[a]=o(a),le[a]=e(a),le[a].x=ne*a,ue[a].x=ne*a,gameStage.addChild(le[a]),gameStage.addChild(ue[a])}function d(){function e(){function e(){createjs.Sound.play("spinEndSound")}var o,t=1e3;for(o=0;o<le.length;o++)t+=400,createjs.Tween.get(le[o]).to({y:-de[1]},t,createjs.Ease.getBackInOut(.5)).call(e)}function o(){var e,o,t,a;for(e=0;e<ge.length;e++)he[e]=[],o=parseInt(ge[e]),t=ge[e].indexOf("#"),a=ge[e].substr(t+1),he[e].push(+a,o)}function t(){var e,o,t=0;for(e=0;5>e;e++)for(pe[e]=[],o=0;5>o;o++)0===+J[e]&&0===o?(console.log("Здесь есть ошибка",J[e]),pe[e].push(re[e][699])):+J[e]>696&&(console.log("Здесь есть ошибка",J[e]),void 0===re[e][J[e]+o-1]&&(pe[e].push(re[e][t]),t++)),pe[e].push(re[e][J[e]+o-1])}function a(e,o){var t,a;for(t=0;5>t;t++)for(a=0;5>a;a++)o[t][a]=e[t][a]}$.ajax({url:oe+"_Ready/"+R,dataType:"JSONP",type:"GET",success:function(n){void 0!==n&&$.ajax({url:oe+"_Roll/"+R,dataType:"JSONP",type:"GET",success:function(n){console.log(n.Result),J=n.Result.Indexes,ge=n.Result.LinesResult,L=n.Result.TotalWin,W=n.Result.BonusResults,he=[],w.text="0.00",m.text=(+m.text-+y.text).toFixed(2),h.text=(+m.text/+u.text).toFixed(0),t(),i(),createjs.Sound.play("spinClickSound"),createjs.Sound.play("spinProcessSound"),e(),a(pe,ce),o(),void 0!==ge[0]&&setTimeout(c.bind(null),U-200)}})}})}function c(){function e(e){createjs.Tween.get(H,{loop:!0}).to({scaleX:1,scaleY:1,x:e,y:300},300).to({alpha:.75},500).to({alpha:1},500).to({alpha:.75},500).to({alpha:1},500).to({alpha:.75},500).to({alpha:1},500).to({alpha:.75},500).to({alpha:1},500)}function o(e){z[e].alpha=1}w.text=+(L*parseFloat(u.text)).toFixed(2),m.text=(+parseFloat(m.text)+ +w.text).toFixed(2),void 0!==W[0]&&(p(1),v.alpha=0,B.alpha=0,clearInterval(V[Z]),Z++);for(var t=0;t<he.length;t++){var a=he[t][0],n=he[t][1];if(-1===a){for(var s=0;5>s;s++)for(var r=0;5>r;r++)if(-1!==ue[s].children[r].image.currentSrc.indexOf("game/win/10.png")){var l=ue[s].children[r];l.alpha=1,createjs.Tween.get(l,{loop:!0}).to({alpha:1,scaleX:1.02,scaleY:1.02,x:-3},500).to({alpha:.9,scaleX:1,scaleY:1,x:0},500).to({alpha:1,scaleX:1,scaleY:1,x:0},300)}}else{o(a-1),q[a-1].shadow=new createjs.Shadow("#FFFFFF",1,1,2);for(var i=0;n>i;i++){var d,c,h;d=+ae[a-1][i][0],c=+ae[a-1][i][1]+1,h=ue[d].children[c],h.alpha=1,createjs.Tween.get(h,{loop:!0}).to({alpha:1,scaleX:1.02,scaleY:1.02,x:-3},500).to({alpha:.9,scaleX:1,scaleY:1,x:0},500).to({alpha:1,scaleX:1,scaleY:1,x:0},300)}}}H=new createjs.Text(L,"bold 120px Arial","#efe947"),H.x=630,H.y=335,H.scaleX=H.scaleY=0,H.shadow=new createjs.Shadow("#000000",5,10,6),gameStage.addChild(H),+L>=10&&100>+L&&e(575),10>+L&&e(575)}function p(e){function o(){$("#doorsCanvas").removeClass("first"),doorsStage.removeAllChildren(),doorsStage.alpha=0,gameStage.alpha=1,panelStage.alpha=1}var t,a,n,s,r,l,i,d,c,u,h,g;g=0,$("#doorsCanvas").addClass("first"),gameStage.alpha=0,panelStage.alpha=0,bgStage.alpha=0,doorsStage.alpha=1,doorsStage.removeAllChildren(),u=new createjs.Shape,u.graphics.beginFill("#000").drawRect(0,0,1920,1080),createjs.Tween.get(u).to({alpha:0},1e3),c=new createjs.Bitmap("img/bonuses/room"+e+"/bg.png"),i=new createjs.Bitmap("img/bonuses/room"+e+"/win.png"),d=new createjs.Bitmap("img/bonuses/room"+e+"/fail.png"),dark1=new createjs.Shape,dark1.graphics.beginFill("#000").drawRect(420,350,200,525),dark2=new createjs.Shape,dark2.graphics.beginFill("#000").drawRect(635,360,200,480),dark3=new createjs.Shape,dark3.graphics.beginFill("#000").drawRect(845,380,205,468),dark4=new createjs.Shape,dark4.graphics.beginFill("#000").drawRect(1070,370,223,480),dark5=new createjs.Shape,dark5.graphics.beginFill("#000").drawRect(1295,355,201,525),t=new createjs.Bitmap("img/bonuses/room"+e+"/door1.png"),t.x=420,t.y=350,a=new createjs.Bitmap("img/bonuses/room"+e+"/door2.png"),a.x=635,a.y=370,n=new createjs.Bitmap("img/bonuses/room"+e+"/door3.png"),n.x=845,n.y=380,s=new createjs.Bitmap("img/bonuses/room"+e+"/door4.png"),s.x=1070,s.y=370,r=new createjs.Bitmap("img/bonuses/room"+e+"/door5.png"),r.x=1295,r.y=355,t.on("click",function(){0===g&&(createjs.Tween.get(this).to({y:this.y-475},600),createjs.Tween.get(dark1).to({alpha:0},600),g++,h?(doorsStage.addChild(l),createjs.Tween.get(l).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,h),1500)):setTimeout(o.bind(null),1500))}),a.on("click",function(){0===g&&(createjs.Tween.get(this).to({y:this.y-475},600),createjs.Tween.get(dark2).to({alpha:0},600),g++,h?(doorsStage.addChild(l),createjs.Tween.get(l).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,h),1500)):setTimeout(o.bind(null),1500))}),n.on("click",function(){0===g&&(createjs.Tween.get(this).to({y:this.y-475},600),createjs.Tween.get(dark3).to({alpha:0},600),g++,h?(doorsStage.addChild(l),createjs.Tween.get(l).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,h),1500)):setTimeout(o.bind(null),1500))}),s.on("click",function(){0===g&&(createjs.Tween.get(this).to({y:this.y-475},600),createjs.Tween.get(dark4).to({alpha:0},600),g++,h?(doorsStage.addChild(l),createjs.Tween.get(l).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,h),1500)):setTimeout(o.bind(null),1500))}),r.on("click",function(){0===g&&(createjs.Tween.get(this).to({y:this.y-475},600),createjs.Tween.get(dark5).to({alpha:0},600),g++,h?(doorsStage.addChild(l),createjs.Tween.get(l).to({scaleX:1,scaleY:1,alpha:1},3e3,Ease.bounceOut),setTimeout(p.bind(null,h),2e3)):setTimeout(o.bind(null),1500))}),1===e&&doorsStage.addChild(dark1,t,dark2,a,dark3,n,dark4,s,dark5,r,c,u);var x={images:["img/bonuses/room2/doors2.png"],frames:{width:200,height:525},framerate:24,animations:{door1open:[0,9,"stop"],door2open:[1,9,"stop"],door3open:[2,9,"stop"],door4open:[3,9,"stop"],door5open:[4,9,"stop"],stop:9}},m=new createjs.SpriteSheet(x),y={};y.door1open=new createjs.Sprite(m,"door1open"),y.door1open.x=413,y.door1open.y=351,y.door1open.stop(),y.door1open.scaleX=.95,y.door1open.scaleY=.97,y.door1open.skewX=.5,y.door1open.rotation=-1,y.door2open=new createjs.Sprite(m,"door2open"),y.door2open.x=636,y.door2open.y=367,y.door2open.stop(),y.door2open.scaleX=.94,y.door2open.scaleY=.91,y.door3open=new createjs.Sprite(m,"door3open"),y.door3open.x=859,y.door3open.y=370,y.door3open.stop(),y.door3open.scaleX=.94,y.door3open.scaleY=.9,y.door4open=new createjs.Sprite(m,"door4open"),y.door4open.x=1077,y.door4open.y=361,y.door4open.stop(),y.door4open.scaleX=.97,y.door4open.scaleY=.93,y.door5open=new createjs.Sprite(m,"door5open"),y.door5open.x=1291,y.door5open.y=335,y.door5open.stop(),y.door5open.scaleX=1.04,y.door5open.scaleY=1.02,y.door5open.skewX=-.5,y.door5open.rotation=1,y.door1open.on("click",function(){0===g&&(createjs.Tween.get(dark1).to({alpha:0},600),this.play(),g++,h?(doorsStage.addChild(l),createjs.Tween.get(l).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,h),2e3)):setTimeout(o.bind(null),1500))}),y.door2open.on("click",function(){0===g&&(createjs.Tween.get(dark2).to({alpha:0},600),this.play(),g++,h?(doorsStage.addChild(l),createjs.Tween.get(l).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,h),2e3)):setTimeout(o.bind(null),1500))}),y.door3open.on("click",function(){0===g&&(createjs.Tween.get(dark3).to({alpha:0},600),this.play(),g++,h?(doorsStage.addChild(l),createjs.Tween.get(l).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,h),2e3)):setTimeout(o.bind(null),1500))}),y.door4open.on("click",function(){0===g&&(createjs.Tween.get(dark4).to({alpha:0},600),this.play(),g++,h?(doorsStage.addChild(l),createjs.Tween.get(l).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,h),2e3)):setTimeout(o.bind(null),1500))}),y.door5open.on("click",function(){0===g&&(createjs.Tween.get(dark5).to({alpha:0},600),this.play(),g++,h?(doorsStage.addChild(l),createjs.Tween.get(l).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,h),2e3)):setTimeout(o.bind(null),1500))}),2===e&&doorsStage.addChild(dark1,y.door1open,dark2,y.door2open,dark3,y.door3open,dark4,y.door4open,dark5,y.door5open,c,u);var w={images:["img/bonuses/room3/doors2.png"],frames:{width:200,height:525},framerate:24,animations:{door1open:[0,9,"stop"],door2open:[1,9,"stop"],door3open:[2,9,"stop"],door4open:[3,9,"stop"],door5open:[4,9,"stop"],stop:9}},f=new createjs.SpriteSheet(w),j={};j.door1open=new createjs.Sprite(f,"door1open"),j.door1open.x=413,j.door1open.y=351,j.door1open.stop(),j.door1open.scaleX=.95,j.door1open.scaleY=.97,j.door1open.skewX=.5,j.door1open.rotation=-1,j.door2open=new createjs.Sprite(f,"door2open"),j.door2open.x=638,j.door2open.y=367,j.door2open.stop(),j.door2open.scaleX=.93,j.door2open.scaleY=.91,j.door3open=new createjs.Sprite(f,"door3open"),j.door3open.x=859,j.door3open.y=370,j.door3open.stop(),j.door3open.scaleX=.93,j.door3open.scaleY=.9,j.door4open=new createjs.Sprite(f,"door4open"),j.door4open.x=1080,j.door4open.y=361,j.door4open.stop(),j.door4open.scaleX=.96,j.door4open.scaleY=.93,j.door5open=new createjs.Sprite(f,"door5open"),j.door5open.x=1293,j.door5open.y=335,j.door5open.stop(),j.door5open.scaleX=1.04,j.door5open.scaleY=1.02,j.door5open.skewX=-.5,j.door5open.rotation=1,j.door1open.on("click",function(){0===g&&(createjs.Tween.get(dark1).to({alpha:0},600),this.play(),g++,h?(doorsStage.addChild(l),createjs.Tween.get(l).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,h),2e3)):setTimeout(o.bind(null),1500))}),j.door2open.on("click",function(){0===g&&(createjs.Tween.get(dark2).to({alpha:0},600),this.play(),g++,h?(doorsStage.addChild(l),createjs.Tween.get(l).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,h),2e3)):setTimeout(o.bind(null),1500))}),j.door3open.on("click",function(){0===g&&(createjs.Tween.get(dark3).to({alpha:0},600),this.play(),g++,h?(doorsStage.addChild(l),createjs.Tween.get(l).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,h),2e3)):setTimeout(o.bind(null),1500))}),j.door4open.on("click",function(){0===g&&(createjs.Tween.get(dark4).to({alpha:0},600),this.play(),g++,h?(doorsStage.addChild(l),createjs.Tween.get(l).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,h),2e3)):setTimeout(o.bind(null),1500))}),j.door5open.on("click",function(){0===g&&(createjs.Tween.get(dark5).to({alpha:0},600),this.play(),g++,h?(doorsStage.addChild(l),createjs.Tween.get(l).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,h),2e3)):setTimeout(o.bind(null),1500))}),3===e&&doorsStage.addChild(dark1,j.door1open,dark2,j.door2open,dark3,j.door3open,dark4,j.door4open,dark5,j.door5open,c,u);var S={images:["img/bonuses/room4/doors2.png"],frames:{width:200,height:525},framerate:24,animations:{door1open:[0,9,"stop"],door2open:[1,9,"stop"],door3open:[2,9,"stop"],door4open:[3,9,"stop"],door5open:[4,9,"stop"],stop:9}},b=new createjs.SpriteSheet(S),T={};T.door1open=new createjs.Sprite(b,"door1open"),T.door1open.x=413,T.door1open.y=351,T.door1open.stop(),T.door1open.scaleX=.95,T.door1open.scaleY=.97,T.door1open.skewX=.5,T.door1open.rotation=-1,T.door2open=new createjs.Sprite(b,"door2open"),T.door2open.x=638,T.door2open.y=367,T.door2open.stop(),T.door2open.scaleX=.93,T.door2open.scaleY=.91,T.door3open=new createjs.Sprite(b,"door3open"),T.door3open.x=859,T.door3open.y=370,T.door3open.stop(),T.door3open.scaleX=.93,T.door3open.scaleY=.9,T.door4open=new createjs.Sprite(b,"door4open"),T.door4open.x=1080,T.door4open.y=361,T.door4open.stop(),T.door4open.scaleX=.96,T.door4open.scaleY=.93,T.door5open=new createjs.Sprite(b,"door5open"),T.door5open.x=1293,T.door5open.y=335,T.door5open.stop(),T.door5open.scaleX=1.04,T.door5open.scaleY=1.02,T.door5open.skewX=-.5,T.door5open.rotation=1,T.door1open.on("click",function(){0===g&&(createjs.Tween.get(dark1).to({alpha:0},600),this.play(),g++,h?(doorsStage.addChild(l),createjs.Tween.get(l).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,h),2e3)):setTimeout(o.bind(null),1500))}),T.door2open.on("click",function(){0===g&&(createjs.Tween.get(dark2).to({alpha:0},600),this.play(),g++,h?(doorsStage.addChild(l),createjs.Tween.get(l).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,h),2e3)):setTimeout(o.bind(null),1500))}),T.door3open.on("click",function(){0===g&&(createjs.Tween.get(dark3).to({alpha:0},600),this.play(),g++,h?(doorsStage.addChild(l),createjs.Tween.get(l).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,h),2e3)):setTimeout(o.bind(null),1500))}),T.door4open.on("click",function(){0===g&&(createjs.Tween.get(dark4).to({alpha:0},600),this.play(),g++,h?(doorsStage.addChild(l),createjs.Tween.get(l).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,h),2e3)):setTimeout(o.bind(null),1500))}),T.door5open.on("click",function(){0===g&&(createjs.Tween.get(dark5).to({alpha:0},600),this.play(),g++,h&&(doorsStage.addChild(l),createjs.Tween.get(l).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.bounceOut),setTimeout(p.bind(null,h),2e3)))}),4===e&&doorsStage.addChild(dark1,T.door1open,dark2,T.door2open,dark3,T.door3open,dark4,T.door4open,dark5,T.door5open,c,u);var v={},k={images:["img/bonuses/room5/chest1.png"],frames:{width:193,height:190},framerate:12,animations:{open:[0,5,"stop"],stop:5}},C=new createjs.SpriteSheet(k);v.chest1=new createjs.Sprite(C,"open"),v.chest1.x=435,v.chest1.y=590,v.chest1.stop(),v.chest1.scaleX=.8,v.chest1.scaleY=.8,v.chest1.on("click",function(){0===g&&(this.play(),v.muha.play(),g++)});var B={images:["img/bonuses/room5/chest2.png"],frames:{width:168,height:182},framerate:12,animations:{open:[0,5,"stop"],stop:5}},F=new createjs.SpriteSheet(B);v.chest2=new createjs.Sprite(F,"open"),v.chest2.x=670,v.chest2.y=595,v.chest2.stop(),v.chest2.scaleX=.8,v.chest2.scaleY=.8,v.chest2.on("click",function(){0===g&&(this.play(),g++)});var E={images:["img/bonuses/room5/chest3.png"],frames:{width:159,height:183},framerate:12,animations:{open:[0,5,"stop"],stop:5}},X=new createjs.SpriteSheet(E);v.chest3=new createjs.Sprite(X,"open"),v.chest3.x=890,v.chest3.y=595,v.chest3.stop(),v.chest3.scaleX=.8,v.chest3.scaleY=.8,v.chest3.on("click",function(){0===g&&(this.play(),g++)});var Y={images:["img/bonuses/room5/chest4.png"],frames:{width:168,height:182},framerate:12,animations:{open:[0,5,"stop"],stop:5}},G=new createjs.SpriteSheet(Y);v.chest4=new createjs.Sprite(G,"open"),v.chest4.x=1100,v.chest4.y=595,v.chest4.stop(),v.chest4.scaleX=.8,v.chest4.scaleY=.8,v.chest4.on("click",function(){0===g&&(this.play(),g++)});var _={images:["img/bonuses/room5/muha.png"],frames:{width:134,height:416},framerate:24,animations:{open:[0,29,"stop"],stop:29}},O=new createjs.SpriteSheet(_);v.muha=new createjs.Sprite(O,"open"),v.muha.x=450,v.muha.y=300,v.muha.stop(),5===e&&(doorsStage.addChild(c,v.chest1,v.chest2,v.chest3,v.chest4,v.muha,u),c.on("click",function(){setTimeout(o.bind(null),1500)}))}bgStage.alpha=0;var u,h,g,x,m,y,w,f,j,S,b,T,v,k,C,B,F,E,X,Y,G,_,O,A,P,M,I,N,R,L,H,J,W,q=(document.getElementById("game"),[]),D=[],z=[],Q=5e3,K=!1,U=3400,V=[],Z=0,ee="SomeName"+100*Math.random(),oe="http://176.105.103.83:99/JSON/SlotService.svc/",te=1,ae=[],ne=gameStage.canvas.width/5,se=gameStage.canvas.height/3,re=[],le=[],ie=[],de=[],ce=[],pe=[],ue=[],he=[],ge=[];createjs.Ticker.timingMode=createjs.Ticker.RAF,createjs.Ticker.addEventListener("tick",bgStage),createjs.Ticker.addEventListener("tick",panelStage),createjs.Ticker.addEventListener("tick",gameStage),createjs.Ticker.addEventListener("tick",doorsStage),e("bgCanvas",BG_WIDTH,1,.5625),e("panelCanvas",PANEL_WIDTH,1,.5625),e("gameCanvas",GAME_WIDTH,.67,.5625),e("doorsCanvas",PANEL_WIDTH,1,.5625),doorsStage.alpha=0,o(),t(),panelStage.enableMouseOver(5),a(),n(),s(ee),$("#withoutSound").click(function(){p(5),createjs.Sound.muted?(createjs.Sound.muted=!1,$(this)[0].innerHTML="Выключить звук!!!"):(createjs.Sound.muted=!0,$(this)[0].innerHTML="Включить звук!!!")})}function freeSpins(){function e(){function e(){var e,o;for(o=1;21>=o;o++)e=new createjs.Bitmap("img/Lines/Line"+o+".png"),e.alpha=0,gameStage.addChild(e),s.push(e);for(s[0].y=334,s[1].y=139,s[2].y=574,s[3].y=54,s[4].y=94,s[5].y=90,s[6].y=335,s[7].x=85,s[7].y=144,s[8].y=288,s[9].y=380,s[10].y=108,s[11].x=85,s[11].y=105,s[12].x=85,s[12].y=45,s[13].x=85,s[13].y=104,s[14].x=85,s[14].y=92,s[15].x=85,s[15].y=99,s[16].x=85,s[16].y=184,s[17].y=137,s[18].y=105,s[19].y=379,s[20].x=105,s[20].y=98,o=0;20>=o;o++)r.push(s[o].clone()),gameStage.addChild(r[o])}function o(){var e,o,s;for(s=1;22>=s;s++)e=new createjs.Text(s,"20px Arial","#ddcb8c"),n.push(e),o=new createjs.Shape,o.graphics.beginFill("#000").drawCircle(e.getMeasuredWidth()/2,e.getMeasuredHeight()/2,19),e.hitArea=o,e.on("mouseover",function(){t(this.text),this.shadow=new createjs.Shadow("#FFFFFF",1,1,2)}),e.on("mouseout",function(){a(this.text),this.shadow.offsetX=this.shadow.offsetY=this.shadow.blur=0});n[21].text=1,n[0].x=549,n[0].y=455,n[1].x=1855,n[1].y=257,n[2].x=1855,n[2].y=697,n[3].x=549,n[3].y=165,n[4].x=549,n[4].y=789,n[5].x=549,n[5].y=210,n[6].x=550,n[6].y=744,n[7].x=1855,n[7].y=548,n[8].x=549,n[8].y=409,n[9].x=542,n[9].y=650,n[10].x=543,n[10].y=303,n[11].x=1848,n[11].y=789,n[12].x=1848,n[12].y=165,n[13].x=1848,n[13].y=744,n[14].x=1848,n[14].y=212,n[15].x=1848,n[15].y=651,n[16].x=1848,n[16].y=304,n[17].x=543,n[17].y=257,n[18].x=543,n[18].y=697,n[19].x=543,n[19].y=501,n[20].x=1850,n[20].y=501,n[21].x=1855,n[21].y=455;for(var s=0;s<n.length;s++)panelStage.addChild(n[s])}function t(e){s[e-1].alpha=1}function a(e){s[e-1].alpha=0}e(),o()}bgStage.removeAllChildren(),panelStage.removeAllChildren();var o=new createjs.Bitmap("img/free spins/bg.png"),t=new createjs.Bitmap("img/free spins/germanBG.png"),a=new createjs.Bitmap("img/free spins/panelBG.png");bgStage.addChild(o,t),panelStage.addChild(a);var n=[],s=[],r=[];e()}var BG_WIDTH=1920,BG_HEIGHT=1080,PANEL_WIDTH=1920,PANEL_HEIGHT=1080,GAME_WIDTH=1280,GAME_HEIGHT=720,bgStage=new createjs.Stage("bgCanvas"),panelStage=new createjs.Stage("panelCanvas"),gameStage=new createjs.Stage("gameCanvas"),doorsStage=new createjs.Stage("doorsCanvas");($("html").hasClass("ios")||$("html").hasClass("iphone"))&&$(document).bind("touchmove",!1),$(document).ready(init);